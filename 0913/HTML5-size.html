<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>캔버스 3</title>
</head>

<body onload="init();">
    <canvas id="HTML5" width="300" height="600"></canvas>
    <div>
        크기 백분율:
        <input type="range" min="0.1" max="1" step="0.1" value="1" onchange="changescale(this.value)">
        <!-- 여기서 변경된 값을 changescale로 보낸다.  -->
        <span id="barvalue"></span>
    </div>

    <script>
        var c = document.getElementById("HTML5");
        var ctx = c.getContext("2d");
        var nextscale = 1; //기본값

        function init() {
            ctx = document.getElementById('HTML5').getContext('2d');
            ctx.save();
            drawlogo();
            showscale(nextscale);
        }

        function changescale(myscale) {
            document.getElementById("barvalue").innerHTML = myscale;
            nextscale = myscale / 1; // 받아온 값을 myscale에 대입하고, 그 결과인 nextscale을 아래의 drawlogo에 사용한다.
            drawlogo();
        }

        function drawlogo() {
            var firstrev = 80;

            ctx.restore(); // 캔버스의 기본값을 복구
            ctx.save(); // 현 상태를 저장
            ctx.clearRect(0, 0, 300, 600); // 캔버스 비우기

            ctx.scale(nextscale, nextscale); // changescale에서 변경된 nextscale을 여기에 사용하여 배율을 조정한다.

            ctx.translate(0, 0); // 맨 처음 시작점을 숫자에 관계없이 이동시킴

            ctx.fillStyle = "red"; // H
            ctx.beginPath();
            ctx.moveTo(19, 0);
            ctx.lineTo(37, 0);
            ctx.lineTo(37, 20);
            ctx.lineTo(57, 20);
            ctx.lineTo(57, 0);
            ctx.lineTo(77, 0);
            ctx.lineTo(77, 60);
            ctx.lineTo(57, 60);
            ctx.lineTo(57, 40);
            ctx.lineTo(37, 40);
            ctx.lineTo(37, 60);
            ctx.lineTo(19, 60);
            ctx.closePath();
            ctx.fill();

            ctx.fillStyle = "gold"; // T
            ctx.beginPath();
            ctx.moveTo(87, 0);
            ctx.lineTo(142, 0);
            ctx.lineTo(142, 20);
            ctx.lineTo(122, 20);
            ctx.lineTo(122, 60);
            ctx.lineTo(102, 60);
            ctx.lineTo(102, 20);
            ctx.lineTo(87, 20);
            ctx.closePath();
            ctx.fill();

            ctx.fillStyle = "green"; // M
            ctx.beginPath();
            ctx.moveTo(152, 0);
            ctx.lineTo(172, 0);
            ctx.lineTo(184, 20);
            ctx.lineTo(197, 0);
            ctx.lineTo(217, 0);
            ctx.lineTo(217, 60);
            ctx.lineTo(197, 60);
            ctx.lineTo(197, 30);
            ctx.lineTo(184, 50);
            ctx.lineTo(172, 30);
            ctx.lineTo(172, 60);
            ctx.lineTo(152, 60);
            ctx.closePath();
            ctx.fill();

            ctx.fillStyle = "blue"; // L
            ctx.beginPath();
            ctx.moveTo(227, 0);
            ctx.lineTo(247, 0);
            ctx.lineTo(247, 40);
            ctx.lineTo(276, 40);
            ctx.lineTo(276, 60);
            ctx.lineTo(227, 60);
            ctx.closePath();
            ctx.fill();

            ctx.restore(); // 초기 설정값을 불러옴(위쪽의 translate 무시)
            ctx.save(); // 현재 상태 저장
            ctx.scale(nextscale,nextscale); // 배율 새로 적용
            ctx.translate(6, firstrev); // 시작점 새로 적용(HTML이 아닌 마크의 시작점)

            ctx.fillStyle = "blueviolet"; // 채우기 스타일(맨 위에 쓰고, fill로 마무리)
            ctx.beginPath(); // 선 긋기 시작
            ctx.moveTo(39, 250); // 시작점(1번째 꼭지점) 설정
            ctx.lineTo(17, 0); // 2번 꼭지점까지 선 긋기
            ctx.lineTo(262, 0); // 3번 점
            ctx.lineTo(239, 250); // 4번 점
            ctx.lineTo(139, 278); // 마지막 꼭지점 (5각형이므로)
            ctx.closePath(); // 선 긋기 끝
            ctx.fill();

            ctx.fillStyle = "mediumpurple";
            ctx.beginPath();
            ctx.moveTo(139, 257);
            ctx.lineTo(220, 234);
            ctx.lineTo(239, 20);
            ctx.lineTo(139, 20);
            ctx.closePath();
            ctx.fill();

            ctx.fillStyle = "#EBEBEB";
            ctx.beginPath();
            ctx.moveTo(139, 113);
            ctx.lineTo(98, 113);
            ctx.lineTo(96, 82);
            ctx.lineTo(139, 82);
            ctx.lineTo(139, 51);
            ctx.lineTo(62, 51);
            ctx.lineTo(70, 144);
            ctx.lineTo(139, 144);
            ctx.closePath();
            ctx.fill();

            ctx.beginPath();
            ctx.moveTo(139, 193);
            ctx.lineTo(105, 184);
            ctx.lineTo(103, 159);
            ctx.lineTo(72, 159);
            ctx.lineTo(76, 207);
            ctx.lineTo(139, 225);
            ctx.closePath();
            ctx.fill();

            ctx.fillStyle = "white";
            ctx.beginPath();
            ctx.moveTo(139, 113);
            ctx.lineTo(139, 144);
            ctx.lineTo(177, 144);
            ctx.lineTo(173, 184);
            ctx.lineTo(139, 193);
            ctx.lineTo(139, 225);
            ctx.lineTo(202, 207);
            ctx.lineTo(210, 113);
            ctx.closePath();
            ctx.fill();

            ctx.beginPath();
            ctx.moveTo(139, 51);
            ctx.lineTo(139, 82);
            ctx.lineTo(213, 82);
            ctx.lineTo(216, 51);
            ctx.closePath();
            ctx.fill();
        }
    </script>
</body>

</html>